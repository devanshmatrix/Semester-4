<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>LSST v1.05r3 &gt; Chapter 4 &gt; User Interface and dialog utility-Part I</title>

<!--Google Top Ad BEGIN-->
<script type="text/javascript"><!--
google_ad_client = "pub-9961351994700795";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_color_border = "A8DDA0";
google_color_bg = "EBFFED";
google_color_link = "0000CC";
google_color_url = "008000";
google_color_text = "6F6F6F";
//--></script>
<script type="text/javascript" src="ch04sec6_files/show_ads.js">
</script>

<!--Google Top Ad END-->

 </head><body><table align="center" border="0" cellpadding="0" cellspacing="0" width="99%"><tbody><tr><td colspan="3"> <div align="center"><b>Linux Shell Scripting Tutorial (LSST) v1.05r3</b></div></td></tr><tr><td height="3" width="8%"> <div align="left"><a href="http://www.freeos.com/guides/lsst/ch04sec5.html">Prev</a></div></td><td height="3" width="86%"> <div align="center">Chapter 4: Advanced Shell Scripting Commands</div></td><td height="3" width="6%"> <div align="right"><a href="http://www.freeos.com/guides/lsst/ch04sec7.html">Next</a></div></td></tr><tr><td colspan="3"> <hr align="center"></td></tr> </tbody></table><h1>User Interface and dialog utility-Part I</h1><p>Good program/shell script must interact with users. You can accomplish this as follows:<br> (1) Use command line arguments (args) to script when you want interaction i.e. pass command line args to script as : <b>$ ./sutil.sh foo 4</b>, where<i> foo</i> &amp; <i>4</i> are command line args passed to shell script <i>sutil.sh</i>.<br> (2) Use statement like <i>echo</i> and <i>read</i> to read input into variable from the prompt. For e.g. Write script as:<br></p> <table bgcolor="#cccccc" border="0" cellpadding="1" cellspacing="1" width="100%"><tbody><tr><td height="171"><code>$ cat &gt; userinte<br> #<br> # Script to demo echo and read command for user interaction<br> #<br> echo "Your good name please :"<br> read na<br> echo "Your age please :"<br> read age<br> neyr=`expr $age + 1`<br> echo "Hello $na, next year you will be $neyr yrs old."</code></td></tr> </tbody></table><p>Save it and run as<br> <b>$ chmod 755 userinte<br> $ ./userinte<br> </b><i>Your good name please </i>:<br> Vivek<br> <i>Your age please :</i><br> 25<br> <i>Hello Vivek, next year you will be 26 yrs old.</i></p><p>Even
you can create menus to interact with user, first show menu option,
then ask user to choose menu item, and take appropriate action
according to selected menu item, this technique is show in following
script:</p> <table bgcolor="#cccccc" border="0" cellpadding="1" cellspacing="1" width="100%"><tbody><tr><td><code>$ cat &gt; menuui<br> #<br> # Script to create simple menus and take action according to that selected<br> # menu item<br> #<br> while :<br> &nbsp;do<br> &nbsp;&nbsp;&nbsp;&nbsp;clear<br> &nbsp;&nbsp;&nbsp;&nbsp;echo "-------------------------------------"<br> &nbsp;&nbsp;&nbsp;&nbsp;echo " Main Menu "<br> &nbsp;&nbsp;&nbsp;&nbsp;echo "-------------------------------------"<br> &nbsp;&nbsp;&nbsp;&nbsp;echo "[1] Show Todays date/time"<br> &nbsp;&nbsp;&nbsp;&nbsp;echo "[2] Show files in current directory"<br> &nbsp;&nbsp;&nbsp;&nbsp;echo "[3] Show calendar"<br> &nbsp;&nbsp;&nbsp;&nbsp;echo "[4] Start editor to write letters"<br> &nbsp;&nbsp;&nbsp;&nbsp;echo "[5] Exit/Stop"<br> &nbsp;&nbsp;&nbsp;&nbsp;echo "======================="<br> &nbsp;&nbsp;&nbsp;&nbsp;echo -n "Enter your menu choice [1-5]: "<br> &nbsp;&nbsp;&nbsp;&nbsp;read yourch<br> &nbsp;&nbsp;&nbsp;&nbsp;case $yourch in<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1) echo "Today is `date` , press a key. . ." ; read ;;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2) echo "Files in `pwd`" ; ls -l ; echo "Press a key. . ." ; read ;;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3) cal ; echo "Press a key. . ." ; read ;;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4) vi ;;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5) exit 0 ;;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*) echo "Opps!!! Please select choice 1,2,3,4, or 5";<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo "Press a key. . ." ; read ;;<br> &nbsp;esac<br> done</code></td></tr> </tbody></table><p>Above all statement explained in following table:</p> <table border="1" cellpadding="1" cellspacing="1" height="100" width="100%"><tbody><tr><td align="center" bgcolor="#c0c0c0" width="70%"><b>Statement</b></td><td align="center" bgcolor="#c0c0c0" width="38%"><b>Explanation</b></td></tr><tr><td width="70%"><b>while :</b></td><td width="38%">Start infinite loop, this loop will only break if you select 5 ( i.e. Exit/Stop menu item) as your menu choice</td></tr><tr><td width="70%"><b>do</b></td><td width="38%">Start loop</td></tr><tr><td width="70%"><b>clear</b></td><td width="38%">Clear the screen, each and every time&nbsp;</td></tr><tr><td width="70%"><b>echo "-------------------------------------"&nbsp;&nbsp;<br> echo "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Main Menu "<br> echo "-------------------------------------"<br> echo "[1] Show Todays date/time"&nbsp;&nbsp;<br> echo "[2] Show files in current directory"<br> echo "[3] Show calendar"<br> echo "[4] Start editor to write letters"<br> echo "[5] Exit/Stop"<br> echo "======================="<br> </b></td><td width="38%">Show menu on screen with menu items</td></tr><tr><td width="70%"><b>echo -n "Enter your menu choice [1-5]: "<br> </b></td><td width="38%">Ask user to enter menu item number</td></tr><tr><td><b>read yourch</b></td><td>Read menu item number from user</td></tr><tr><td><b>case $yourch in<br> 1) echo "Today is `date` , press a key. . ."&nbsp; ; read ;;<br> 2) echo "Files in `pwd`" ;&nbsp; ls -l&nbsp; ;&nbsp;&nbsp;<br> </b>&nbsp;&nbsp;&nbsp;&nbsp;<b>echo&nbsp;&nbsp;&nbsp; "Press a key. . ." ; read ;;<br> 3) cal ; echo "Press a key. . ." ; read ;;<br> 4) vi ;;<br> 5) exit 0 ;;<br> *) echo "Opps!!! Please select choice 1,2,3,4, or 5";<br> &nbsp;&nbsp;&nbsp;&nbsp; echo "Press a key. . ." ; read&nbsp; ;;<br> &nbsp; esac </b></td><td>Take
appropriate action according to selected menu item, If menu item is not
between 1 - 5, then show error and ask user to input number between 1-5
again</td></tr><tr><td width="70%"><b>done</b></td><td width="38%">Stop loop , if menu item number is 5 ( i.e. Exit/Stop)</td></tr> </tbody></table><p>User
interface usually includes, menus, different type of boxes like info
box, message box, Input box etc. In Linux shell (i.e. bash) there is no
built-in facility available to create such user interface, But there is
one utility supplied with Red Hat Linux version 6.0 called dialog,
which is used to create different type of boxes like info box, message
box, menu box, Input box etc. Next section shows you how to use dialog
utility.<br></p> <table align="center" border="0" cellpadding="0" cellspacing="0" width="99%"><tbody><tr><td colspan="3" height="20"> <hr></td></tr><tr><td width="42%"> <div align="left"><a href="http://www.freeos.com/guides/lsst/ch04sec5.html">Prev</a></div></td><td width="17%"> <div align="center"><a href="http://www.freeos.com/guides/lsst/index.html">Home</a></div></td><td width="41%"> <div align="right"><a href="http://www.freeos.com/guides/lsst/ch04sec7.html">Next</a></div></td></tr><tr><td width="42%">Functions</td><td width="17%"> <div align="center"><a href="http://www.freeos.com/guides/lsst/ch04.html">Up</a></div></td><td width="41%"> <div align="right">User Interface and dialog utility-Part II</div></td></tr> </tbody></table></body></html>